components:
  examples:
    action:
      value:
        dateEnd: '2018-12-18T10:17:08.388+01:00'
        dateStart: '2018-12-18T10:17:01.760+01:00'
        eCard:
          _id: 5c1b5a3b49362d15e90af6b4
          cardIdCipher: jkE5EY2j+8lBHnylSz1K5uHqEAW2jCanQ1g6zw0ULZ8=
          cardIdCipherIV: PHf2jXsvP+1cvY/wKTdJ6UvKXwTySia6u/YSXb6QRaMc26OfbemNd3EByM4DS7osz62Cb+qVuZrsCKtdKSUoFvMvdbHmBKxVuVCDMpCA1pEyCjVLqb3zm+tWTele+ICMtVe01Oknf5N4m9/KyVJfDy3Uzii3ziCqbrIskKonPPFj1O8cZt4OWcULmawJMKfifCCuQlqzfoTWuB/+k6kWN2d9dTGSNJj+ti3/KjmZj4QHuR8mW7JmdEJYlNmzhlI+1ulvHczbfGT9/3RGxBqH+yudb+EtS7xjozxtlaLPMfnh8a0YN3ElaHVopuNgCdBMC72IGNbTJylKdPgEP1wFQA==
          cardIdCipherKey: ed3sIe7b0LcTqqG+sV1r71rVmhY5bdvH0silSaAeBgfj1gDOhw9LPN4KkX+QM1kRXtvkW84/w++xHl6ofB9E1zUG3C7iEe9PiGdBm4XwHGJBB/X5hKhZqqWEa+lQMTEX9GKtVvgZofPazTx+Cy3A1BHS1aUNQGWoY5vwML6wIcMwxEp65iRQLQ6PkHkNqPenassMaci+s3VjOj3NjKIuqpMdGUMt5YKRHIIOhmL5qnfHlkIy5RYUzDrBtSRJtYpZi3L3YJGvqTnLcLPkEiWht7zCJWJ42pvTXqobzbZEJ320hm8mlG0eQHzi2arVFhJNDHHFiIzg7i9ef4WFx623wg==
          cardIdSymbology: null
          creator_id: eCardsApiDocDev2User
          dateCreated: '2018-11-19T13:38:00.001+00:00'
          dateDeleted: null
          dateModified: '2018-11-19T13:38:00.001+00:00'
          description: null
          eCardTemplate:
            _id: 5beaf11ef34f391adf32fd65
            brand:
              name: Praxis
            cardIdSymbology: null
            creator:
              name: Digital Me
            dateCreated: '2018-11-13T11:38:00.001+00:00'
            dateDeleted: null
            dateModified: '2018-12-03T23:08:54.215+00:00'
            name: Praxis
            sortName: Praxis
            style:
              backgroundColor: '#FFDD00'
              backgroundImage:
              - size: small
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
              - size: medium
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
              - size: large
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
          name: Praxis
          notes: null
          sortName: Praxis
          style:
            backgroundColor: '#FFDD00'
            backgroundImage:
            - size: small
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
            - size: medium
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
            - size: large
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
        type: InteractAction
    actionList:
      value:
      - dateEnd: '2018-12-18T10:17:08.388+01:00'
        dateStart: '2018-12-18T10:17:01.760+01:00'
        eCard:
          _id: 5c1b5a3b49362d15e90af6b4
          cardIdCipher: jkE5EY2j+8lBHnylSz1K5uHqEAW2jCanQ1g6zw0ULZ8=
          cardIdCipherIV: PHf2jXsvP+1cvY/wKTdJ6UvKXwTySia6u/YSXb6QRaMc26OfbemNd3EByM4DS7osz62Cb+qVuZrsCKtdKSUoFvMvdbHmBKxVuVCDMpCA1pEyCjVLqb3zm+tWTele+ICMtVe01Oknf5N4m9/KyVJfDy3Uzii3ziCqbrIskKonPPFj1O8cZt4OWcULmawJMKfifCCuQlqzfoTWuB/+k6kWN2d9dTGSNJj+ti3/KjmZj4QHuR8mW7JmdEJYlNmzhlI+1ulvHczbfGT9/3RGxBqH+yudb+EtS7xjozxtlaLPMfnh8a0YN3ElaHVopuNgCdBMC72IGNbTJylKdPgEP1wFQA==
          cardIdCipherKey: ed3sIe7b0LcTqqG+sV1r71rVmhY5bdvH0silSaAeBgfj1gDOhw9LPN4KkX+QM1kRXtvkW84/w++xHl6ofB9E1zUG3C7iEe9PiGdBm4XwHGJBB/X5hKhZqqWEa+lQMTEX9GKtVvgZofPazTx+Cy3A1BHS1aUNQGWoY5vwML6wIcMwxEp65iRQLQ6PkHkNqPenassMaci+s3VjOj3NjKIuqpMdGUMt5YKRHIIOhmL5qnfHlkIy5RYUzDrBtSRJtYpZi3L3YJGvqTnLcLPkEiWht7zCJWJ42pvTXqobzbZEJ320hm8mlG0eQHzi2arVFhJNDHHFiIzg7i9ef4WFx623wg==
          cardIdSymbology: null
          creator_id: eCardsApiDocDev2User
          dateCreated: '2018-11-19T13:38:00.001+00:00'
          dateDeleted: null
          dateModified: '2018-11-19T13:38:00.001+00:00'
          description: null
          eCardTemplate:
            _id: 5beaf11ef34f391adf32fd65
            brand:
              name: Praxis
            cardIdSymbology: null
            creator:
              name: Digital Me
            dateCreated: '2018-11-13T11:38:00.001+00:00'
            dateDeleted: null
            dateModified: '2018-12-03T23:08:54.215+00:00'
            name: Praxis
            sortName: Praxis
            style:
              backgroundColor: '#FFDD00'
              backgroundImage:
              - size: small
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
              - size: medium
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
              - size: large
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
          name: Praxis
          notes: null
          sortName: Praxis
          style:
            backgroundColor: '#FFDD00'
            backgroundImage:
            - size: small
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
            - size: medium
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
            - size: large
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
        type: InteractAction
      - dateEnd: '2018-12-18T10:17:10.746+01:00'
        dateStart: '2018-12-18T10:17:08.988+01:00'
        eCard:
          _id: 5c1b5a8649362d15e90af6b6
          cardIdCipher: jkE5EY2j+8lBHnylSz1K5uHqEAW2jCanQ1g6zw0ULZ8=
          cardIdCipherIV: PHf2jXsvP+1cvY/wKTdJ6UvKXwTySia6u/YSXb6QRaMc26OfbemNd3EByM4DS7osz62Cb+qVuZrsCKtdKSUoFvMvdbHmBKxVuVCDMpCA1pEyCjVLqb3zm+tWTele+ICMtVe01Oknf5N4m9/KyVJfDy3Uzii3ziCqbrIskKonPPFj1O8cZt4OWcULmawJMKfifCCuQlqzfoTWuB/+k6kWN2d9dTGSNJj+ti3/KjmZj4QHuR8mW7JmdEJYlNmzhlI+1ulvHczbfGT9/3RGxBqH+yudb+EtS7xjozxtlaLPMfnh8a0YN3ElaHVopuNgCdBMC72IGNbTJylKdPgEP1wFQA==
          cardIdCipherKey: ed3sIe7b0LcTqqG+sV1r71rVmhY5bdvH0silSaAeBgfj1gDOhw9LPN4KkX+QM1kRXtvkW84/w++xHl6ofB9E1zUG3C7iEe9PiGdBm4XwHGJBB/X5hKhZqqWEa+lQMTEX9GKtVvgZofPazTx+Cy3A1BHS1aUNQGWoY5vwML6wIcMwxEp65iRQLQ6PkHkNqPenassMaci+s3VjOj3NjKIuqpMdGUMt5YKRHIIOhmL5qnfHlkIy5RYUzDrBtSRJtYpZi3L3YJGvqTnLcLPkEiWht7zCJWJ42pvTXqobzbZEJ320hm8mlG0eQHzi2arVFhJNDHHFiIzg7i9ef4WFx623wg==
          cardIdSymbology: null
          creator_id: eCardsApiDocDev2User
          dateCreated: '2018-11-19T13:38:00.001+00:00'
          dateDeleted: null
          dateModified: '2018-11-19T13:38:00.001+00:00'
          description: null
          eCardTemplate:
            _id: 5beaf11ef34f391adf32fd65
            brand:
              name: Praxis
            cardIdSymbology: null
            creator:
              name: Digital Me
            dateCreated: '2018-11-13T11:38:00.001+00:00'
            dateDeleted: null
            dateModified: '2018-12-03T23:08:54.215+00:00'
            name: Praxis
            sortName: Praxis
            style:
              backgroundColor: '#FFDD00'
              backgroundImage:
              - size: small
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
              - size: medium
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
              - size: large
                url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
          name: Praxis
          notes: null
          sortName: Praxis
          style:
            backgroundColor: '#FFDD00'
            backgroundImage:
            - size: small
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
            - size: medium
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
            - size: large
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
        type: InteractAction
    apiInfo:
      value:
        currentVersion: 1.3.1-SNAPSHOT
        linkTemplates:
          services: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCardTemplates/{templateId}/services/{service}
        links:
          actions: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/actions
          dataExchange: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/dataExchange
          eCards: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCards
          offers: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/services/offers
          schema: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/api/schema
          templateSelections: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCardTemplatesSelections
          templates: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCardTemplates
          user: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy
        serverTime: 1572531524892
    authenticationRequired:
      value:
        errors:
        - message: Authentication required!
          status: 401
    backgroundImage:
      value:
      - size: small
        url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
      - size: medium
        url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
      - size: large
        url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
    eCard:
      value:
        cardIdCipher: jkE5EY2j+8lBHnylSz1K5uHqEAW2jCanQ1g6zw0ULZ8=
        cardIdCipherIV: PHf2jXsvP+1cvY/wKTdJ6UvKXwTySia6u/YSXb6QRaMc26OfbemNd3EByM4DS7osz62Cb+qVuZrsCKtdKSUoFvMvdbHmBKxVuVCDMpCA1pEyCjVLqb3zm+tWTele+ICMtVe01Oknf5N4m9/KyVJfDy3Uzii3ziCqbrIskKonPPFj1O8cZt4OWcULmawJMKfifCCuQlqzfoTWuB/+k6kWN2d9dTGSNJj+ti3/KjmZj4QHuR8mW7JmdEJYlNmzhlI+1ulvHczbfGT9/3RGxBqH+yudb+EtS7xjozxtlaLPMfnh8a0YN3ElaHVopuNgCdBMC72IGNbTJylKdPgEP1wFQA==
        cardIdCipherKey: ed3sIe7b0LcTqqG+sV1r71rVmhY5bdvH0silSaAeBgfj1gDOhw9LPN4KkX+QM1kRXtvkW84/w++xHl6ofB9E1zUG3C7iEe9PiGdBm4XwHGJBB/X5hKhZqqWEa+lQMTEX9GKtVvgZofPazTx+Cy3A1BHS1aUNQGWoY5vwML6wIcMwxEp65iRQLQ6PkHkNqPenassMaci+s3VjOj3NjKIuqpMdGUMt5YKRHIIOhmL5qnfHlkIy5RYUzDrBtSRJtYpZi3L3YJGvqTnLcLPkEiWht7zCJWJ42pvTXqobzbZEJ320hm8mlG0eQHzi2arVFhJNDHHFiIzg7i9ef4WFx623wg==
        cardIdSymbology: null
        creator_id: eCardsApiDocDev2User
        dateCreated: '2018-11-19T13:38:00.001+00:00'
        dateDeleted: null
        dateModified: '2018-11-19T13:38:00.001+00:00'
        description: null
        eCardTemplate:
          brand:
            name: Praxis
          cardIdSymbology: null
          creator:
            name: Digital Me
          dateCreated: '2018-11-13T11:38:00.001+00:00'
          dateDeleted: null
          dateModified: '2018-12-03T23:08:54.215+00:00'
          name: Praxis
          sortName: Praxis
          style:
            backgroundColor: '#FFDD00'
            backgroundImage:
            - size: small
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
            - size: medium
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
            - size: large
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
        name: Praxis
        notes: null
        sortName: Praxis
        style:
          backgroundColor: '#FFDD00'
          backgroundImage:
          - size: small
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
          - size: medium
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
          - size: large
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
    eCardTemplate:
      value:
        _id: 5beaf11ef34f391adf32fd65
        brand:
          name: Praxis
        cardIdSymbology: null
        creator:
          name: Digital Me
        dateCreated: '2018-11-13T11:38:00.001+00:00'
        dateDeleted: null
        dateModified: '2018-12-03T23:08:54.215+00:00'
        name: Praxis
        sortName: Praxis
        style:
          backgroundColor: '#FFDD00'
          backgroundImage:
          - size: small
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
          - size: medium
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
          - size: large
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
    eCards:
      value:
      - cardIdCipher: jkE5EY2j+8lBHnylSz1K5uHqEAW2jCanQ1g6zw0ULZ8=
        cardIdCipherIV: PHf2jXsvP+1cvY/wKTdJ6UvKXwTySia6u/YSXb6QRaMc26OfbemNd3EByM4DS7osz62Cb+qVuZrsCKtdKSUoFvMvdbHmBKxVuVCDMpCA1pEyCjVLqb3zm+tWTele+ICMtVe01Oknf5N4m9/KyVJfDy3Uzii3ziCqbrIskKonPPFj1O8cZt4OWcULmawJMKfifCCuQlqzfoTWuB/+k6kWN2d9dTGSNJj+ti3/KjmZj4QHuR8mW7JmdEJYlNmzhlI+1ulvHczbfGT9/3RGxBqH+yudb+EtS7xjozxtlaLPMfnh8a0YN3ElaHVopuNgCdBMC72IGNbTJylKdPgEP1wFQA==
        cardIdCipherKey: ed3sIe7b0LcTqqG+sV1r71rVmhY5bdvH0silSaAeBgfj1gDOhw9LPN4KkX+QM1kRXtvkW84/w++xHl6ofB9E1zUG3C7iEe9PiGdBm4XwHGJBB/X5hKhZqqWEa+lQMTEX9GKtVvgZofPazTx+Cy3A1BHS1aUNQGWoY5vwML6wIcMwxEp65iRQLQ6PkHkNqPenassMaci+s3VjOj3NjKIuqpMdGUMt5YKRHIIOhmL5qnfHlkIy5RYUzDrBtSRJtYpZi3L3YJGvqTnLcLPkEiWht7zCJWJ42pvTXqobzbZEJ320hm8mlG0eQHzi2arVFhJNDHHFiIzg7i9ef4WFx623wg==
        cardIdSymbology: null
        creator_id: eCardsApiDocDev2User
        dateCreated: '2018-11-19T13:38:00.001+00:00'
        dateDeleted: null
        dateModified: '2018-11-19T13:38:00.001+00:00'
        description: null
        eCardTemplate:
          brand:
            name: Praxis
          cardIdSymbology: null
          creator:
            name: Digital Me
          dateCreated: '2018-11-13T11:38:00.001+00:00'
          dateDeleted: null
          dateModified: '2018-12-03T23:08:54.215+00:00'
          name: Praxis
          sortName: Praxis
          style:
            backgroundColor: '#FFDD00'
            backgroundImage:
            - size: small
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
            - size: medium
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
            - size: large
              url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
        name: Praxis
        notes: null
        sortName: Praxis
        style:
          backgroundColor: '#FFDD00'
          backgroundImage:
          - size: small
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
          - size: medium
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
          - size: large
            url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
    style:
      value:
        backgroundColor: '#FFDD00'
        backgroundImage:
        - size: small
          url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_sm.png
        - size: medium
          url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_md.png
        - size: large
          url: https://dappre.dolden.net/klanten/ecards/img-logos/praxis_lg.png
  parameters:
    eCardsMetaData:
      in: header
      name: ECards-MetaData
      schema:
        $ref: '#/components/schemas/eCardsMetaData'
    oid:
      in: path
      name: oid
      required: true
      schema:
        $ref: '#/components/schemas/objectId'
    templateId:
      description: eCard template object id
      in: path
      name: templateId
      required: true
      schema:
        $ref: '#/components/schemas/objectId'
    userAgent:
      in: header
      name: User-Agent
      schema:
        type: string
    userId:
      in: path
      name: userId
      required: true
      schema:
        $ref: '#/components/schemas/userId'
  responses:
    actionPosted:
      description: Action posted
    api:
      content:
        application/json:
          examples:
            apiGetAppAuthenticated:
              $ref: '#/components/examples/apiInfo'
          schema:
            $ref: '#/components/schemas/apiInfo'
      description: Api response
    apiSchema:
      content:
        application/json:
          examples:
            json-schema draf-4 example:
              description: See [.examples/schema.json](./examples/schema.json)
      description: Api schema response
    balanceAndTransactions:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/balanceAndTransactions'
      description: BalanceAndTransactions Get response 200
    default:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/authenticationRequired'
          schema:
            properties:
              errors:
                items:
                  properties:
                    message:
                      pattern: Authentication required!
                      type: string
                    status:
                      enum:
                      - 401
                      type: number
                  type: object
                type: array
            type: object
      description: Default response
    eCards:
      content:
        application/json:
          examples:
            example:
              $ref: '#/components/examples/eCards'
          schema:
            $ref: '#/components/schemas/eCards'
      description: eCards response
    httpResponseBody:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/httpResponseBody'
      description: 'HTTP 202: The request has been accepted but not processed, see
        body for more information.'
    openapiDotJson:
      content:
        application/json:
          examples:
            example:
              description: See [.examples/openapi.json](./examples/openapi.json)
      description: Get openapi.json response
    openapiDotYaml:
      content:
        application/yaml:
          examples:
            example:
              description: See [.examples/openapi.yaml](./examples/openapi.yaml)
      description: Get openapi.yaml response
    places:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/places'
      description: Get places response
    userDeleted:
      description: User deleted
  schemas:
    action:
      description: See [Action](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#action)
      properties:
        creator_id:
          description: Creator [user id](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#user-identification)
          maxItems: 1
          minItems: 1
          type: string
        dateEnd:
          description: Datetimestamp of action end
          format: iso 8601
          maxItems: 1
          minItems: 1
          type: string
        dateStart:
          description: Datetimestamp of action start
          format: iso 8601
          maxItems: 1
          minItems: 1
          type: string
        eCard:
          $ref: '#/components/schemas/eCard'
          maxItems: 1
          minItems: 0
        location:
          $ref: '#/components/schemas/geometry'
          maxItems: 1
          minItems: 0
        offer:
          $ref: '#/components/schemas/offer'
          maxItems: 1
          minItems: 0
        type:
          description: Action type
          enum:
          - CreateAction
          - InteractAction
          - DeleteAction
          - ViewOfferAction
          - UpdateAction
          maxItems: 1
          minItems: 1
          type: string
        userAgent:
          description: Information about the eCards client extracted from the user-agent
            http request header
          maxItems: 1
          minItems: 1
          type: string
      type: object
    actionList:
      description: '[Action](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#action)
        list'
      items:
        $ref: '#/components/schemas/action'
      type: array
    addressComponents:
      description: Address components, loosely based on address_components as defined
        as part of the Google Places API, see https://developers.google.com/maps/documentation/geocoding/intro#Types.
      properties:
        administrativeAreaLevel1:
          type: string
        administrativeAreaLevel2:
          type: string
        administrativeAreaLevel3:
          type: string
        administrativeAreaLevel4:
          type: string
        administrativeAreaLevel5:
          type: string
        colloquialArea:
          type: string
        countryCode2:
          description: 'NB: This property has no Google equivalent.'
          type: string
        countryCode3:
          description: 'NB: This property has no Google equivalent.'
          type: string
        countryName:
          type: string
        locality:
          type: string
        postalCode:
          type: string
        route:
          type: string
        streetAddress:
          type: string
        streetName:
          description: 'NB: This property has no Google equivalent.'
          type: string
        streetNumber:
          type: string
      title: Address components
      type: object
    apiInfo:
      properties:
        currentVersion:
          type: string
        linkTemplates:
          properties:
            services:
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCardTemplates/{templateId}/services/{service}
              format: url
              type: string
          type: object
        links:
          properties:
            actions:
              description: Current Actions Endpoint url, see [Actions](#/Actions)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/actions
              format: url
              type: string
            dataExchange:
              description: Current Data Exchange Endpoint url, see [Data Exchange](#/Data%20Exchange)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/dataExchange
              format: url
              type: string
            eCards:
              description: Current eCards Endpoint url, see [eCards](#/eCards)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCards
              format: url
              type: string
            offers:
              description: Current Offers Endpoint url, see [Offers](#/Offers)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/services/offers
              format: url
              type: string
            schema:
              description: Current Schema Endpoint url, see [Schema](#/Schema)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/api/schema
              format: url
              type: string
            templates:
              description: Current Templates Endpoint url, see [Templates](#/Templates)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCardTemplates
              format: url
              type: string
            templatesSelections:
              description: Current Templates Selections Endpoint url, see [Templates
                Selections](#/Templates Selections)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy/eCardTemplatesSelections
              format: url
              type: string
            user:
              description: Current User Endpoint url, see [Users](#/Users)
              example: https://dev2-card.testonly.digital-me.nl/ecards/v1/users/rudy
              format: url
              type: string
          type: object
        serverTime:
          description: Server time in unix time in mili seconds.
          type: number
      type: object
    balanceAndTransactions:
      description: Balance and Transactions response body
    balanceAndTransactionsGetFilterV1:
      description: Get Balance and Transactions request body
      properties:
        cardCode:
          type: string
        cardId:
          type: string
        paging:
          $ref: '#/components/schemas/paging'
        pin:
          type: string
          writeOnly: true
      type: object
    brandName:
      properties:
        name:
          description: Brand name
          maxItems: 1
          minItems: 1
          type: string
      type: object
    cardId:
      description: Card identifier as displayed on a physical card as text or as scannable
        code
      externalDocs:
        description: 'DAP SDD #6 - cardId'
        url: https://digital-me.atlassian.net/wiki/spaces/DAP/pages/61079553/SDD+6+-+cardId
      properties:
        mask:
          description: ''
          maxItems: 1
          minItems: 1
          type: string
        postfix:
          description: Postfix
          maxItems: 1
          minItems: 0
          type: string
        prefix:
          description: Prefix
          maxItems: 1
          minItems: 0
          type: string
        symbology:
          description: Symbology used to present a scannable code on the eCard
          enum:
          - EAN-13
          - UPC-A
          - EAN-8
          - UPC-E
          - Code 39
          - Code 128
          - GS1-128
          - GS1 QR Code
          - ITF-14
          - GS1 DataBar
          - PDF417
          - Aztec Code
          - Code 39 mod 43
          - Code 93
          - GS1 DataMatrix
          - ITF
          maxItems: 1
          minItems: 1
          type: string
        validator:
          description: ''
          maxItems: 1
          minItems: 1
          type: string
        visibility:
          description: ''
          maxItems: 1
          minItems: 1
          type: string
      type: object
    cardIdSymbology:
      description: Supported card code symbol types
      items:
        enum:
        - Aztec Code
        - Codabar
        - Code 128
        - Code 39
        - Code 39 mod 43
        - Code 93
        - DataBar Expanded
        - DataBar-14
        - DataMatrix
        - EAN-128
        - EAN-13
        - EAN-8
        - GS1 DataMatrix
        - GS1 QR Code
        - GS1-128
        - GS1-13
        - ITF
        - ITF-14
        - MaxiCode
        - PDF417
        - QR
        - UPC-E
        title: Card code symbol type
        type: string
      type: array
    distance:
      properties:
        lengthUnitOfMeasure:
          enum:
          - miles
          - km
          type: string
        number:
          format: int32
          minimum: 0
          type: integer
      type: object
    eCard:
      description: See [eCard](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#ecard)
      properties:
        ballance:
          description: Card ballance
          format: cents
          maxItems: 1
          minItems: 0
          type: number
        cardIdCipher:
          description: Card id cipher
          maxItems: 1
          minItems: 1
          type: string
        cardIdCipherIV:
          description: Card id cipher iv
          maxItems: 1
          minItems: 1
          type: string
        cardIdCipherKey:
          description: Card id cipher key
          maxItems: 1
          minItems: 1
          type: string
        cardIdCipherPin:
          description: Card id cipher pin
          maxItems: 1
          minItems: 1
          nullable: true
          type: string
        cardIdSymbology:
          allOf:
          - maxItems: 1
            minItems: 1
          - $ref: '#/components/schemas/cardIdSymbology'
        creator_id:
          description: Creator user id
          maxItems: 1
          minItems: 1
          type: string
        currency:
          default: EUR
          description: Currency code
          format: ISO 4217 currency code
          maxItems: 1
          minItems: 0
          type: string
        dateBalanceUpdated:
          description: Datetimestamp of latest balance update
          format: iso 8601
          maxItems: 1
          minItems: 0
          type: string
        dateCreated:
          description: Datetimestamp of creation
          format: iso 8601
          maxItems: 1
          minItems: 1
          type: string
        dateDeleted:
          description: Datetimestamp of deletion
          format: iso 8601
          maxItems: 1
          minItems: 0
          nullable: true
          type: string
        dateIssued:
          description: Datetimestamp of card issue
          format: iso 8601
          maxItems: 1
          minItems: 0
          type: string
        dateModified:
          description: Datetimestamp of latest modification
          format: iso 8601
          maxItems: 1
          minItems: 1
          nullable: true
          type: string
        description:
          description: eCard description
          maxItems: 1
          minItems: 0
          nullable: true
          type: string
        eCardTemplate:
          allOf:
          - maxItems: 1
            minItems: 1
            nullable: true
          - $ref: '#/components/schemas/eCardTemplate'
        name:
          description: name
          maxItems: 1
          minItems: 1
          nullable: true
          type: string
        notes:
          description: notes
          maxItems: 1
          minItems: 0
          nullable: true
          type: string
        sortName:
          description: Sort name
          maxItems: 1
          minItems: 1
          nullable: true
          type: string
        style:
          allOf:
          - maxItems: 1
            minItems: 0
          - $ref: '#/components/schemas/style'
        transactions:
          items:
            $ref: '#/components/schemas/transaction'
          maxItems: 1
          minItems: 0
          type: array
      type: object
    eCardTemplate:
      description: eCard template
      properties:
        brand:
          allOf:
          - maxItems: 1
            minItems: 1
          - $ref: '#/components/schemas/brandName'
        cardId:
          allOf:
          - maxItems: 1
            minItems: 0
          - $ref: '#/components/schemas/cardId'
        cardIdSymbology:
          allOf:
          - maxItems: 1
            minItems: 1
          - $ref: '#/components/schemas/cardIdSymbology'
        creator:
          description: Creator of the eCard template
          properties:
            name:
              description: Creator name
              maxItems: 1
              minItems: 1
              type: string
          type: object
        dateCreated:
          description: Datetimestamp of creation
          format: iso 8601
          maxItems: 1
          minItems: 1
          type: string
        dateDeleted:
          description: Datetimestamp of deletion
          format: iso 8601
          maxItems: 1
          minItems: 0
          nullable: true
          type: string
        dateModified:
          description: Datetimestamp of latest modification
          format: iso 8601
          maxItems: 1
          minItems: 1
          nullable: true
          type: string
        keywords:
          items:
            title: Keyword
            type: string
          maxItems: 1
          minItems: 1
          type: array
        name:
          description: Name to be displayed on the eCard.
          maxItems: 1
          minItems: 0
          nullable: true
          type: string
        notes:
          maxItems: 1
          minItems: 0
          nullable: true
          type: string
        services:
          allOf:
          - maxItems: 1
            minItems: 1
          - $ref: '#/components/schemas/services'
        sortName:
          maxItems: 1
          minItems: 1
          nullable: true
          type: string
        style:
          allOf:
          - maxItems: 1
            minItems: 1
          - $ref: '#/components/schemas/style'
        types:
          items:
            description: eCard type
            enum:
            - customer_membership_account
            - customer_rebate_account
            - customer_loyalty_program
            - customer_subscription_program
            - stored_value_instrument
            - stored_value_instrument_open
            - stored_value_instrument_closed
            type: string
          maxItems: 1
          minItems: 0
          type: array
        url:
          description: Webshop url
          format: url
          maxItems: 1
          minItems: 0
          type: string
    eCardUpdate:
      title: eCard update request body
      type: object
    eCards:
      items:
        $ref: '#/components/schemas/eCard'
      type: array
    eCardsMetaData:
      example:
        dateEnd: '2018-12-19T11:11:47.994+01:00'
        dateStart: '2018-12-19T11:11:46.849+01:00'
      properties:
        dateEnd:
          description: Datetimestamp of action end
          format: iso 8601
          maxItems: 1
          minItems: 1
          type: string
        dateStart:
          description: Datetimestamp of action start
          format: iso 8601
          maxItems: 1
          minItems: 1
          type: string
      type: object
    geometry:
      description: See https://schema.org/geo
      properties:
        latitude:
          maxItems: 1
          minItems: 1
          type: number
        longitude:
          maxItems: 1
          minItems: 1
          type: number
      title: Geometry
      type: object
    httpResponseBody:
      properties:
        code:
          maxItems: 1
          minItems: 1
          title: Http response status code
          type: string
        message:
          maxItems: 1
          minItems: 1
          title: Response message
          type: string
      type: object
    name:
      description: See https://schema.org/name
      type: string
    objectId:
      example: 5c1b5a3b49362d15e90af6b4
      externalDocs:
        description: MongoDB ObjectId description
        url: https://docs.mongodb.com/manual/reference/method/ObjectId/
      title: MongoDB object id
      type: string
    offer:
      type: object
    paging:
      properties:
        offset:
          format: int32
          maxItems: 1
          minItems: 1
          minimum: 0
          type: integer
        pageSize:
          format: int32
          maxItems: 1
          minItems: 1
          type: integer
      type: object
    place:
      additionalProperties: false
      description: See https://digital-me.atlassian.net/wiki/spaces/DAP/pages/360649/SDD+3+-+eCards+Places.
      properties:
        addressComponents:
          $ref: '#/components/schemas/addressComponents'
          maxItems: 1
          minItems: 1
        addressFormatted:
          maxItems: 1
          minItems: 1
          type: string
        categories:
          items:
            type: string
          maxItems: 1
          minItems: 1
          title: Categories
          type: array
        dateCreated:
          format: date-time
          title: dateCreated
          type: string
        distance:
          allOf:
          - $ref: '#/components/schemas/distance'
          - properties:
              lengthUnitOfMeasure:
                maxItems: 1
                minItems: 1
          maxItems: 1
          minItems: 1
        geometry:
          $ref: '#/components/schemas/geometry'
        icon:
          $ref: '#/components/schemas/sizedImages'
          maxItems: 1
          minItems: 1
        name:
          $ref: '#/components/schemas/name'
          maxItems: 1
          minItems: 1
        phoneNumberInternational:
          maxItems: 1
          minItems: 1
          type: string
        priority:
          maxItems: 1
          minItems: 1
          type: number
        status:
          maxItems: 1
          minItems: 1
          type: string
        templatesEligibility:
          items:
            type: string
          maxItems: 1
          minItems: 1
          type: array
        types:
          items:
            type: string
          maxItems: 1
          minItems: 1
          type: array
        utc_offset:
          maxItems: 1
          minItems: 1
          type: number
        website:
          format: url
          maxItems: 1
          minItems: 1
          type: string
      title: Place
      type: object
    places:
      items:
        $ref: '#/components/schemas/place'
      type: array
    placesFilterV1:
      description: Get places request body
      properties:
        geometry:
          $ref: '#/components/schemas/geometry'
          maxItems: 1
          minItems: 1
        maxDistance:
          $ref: '#/components/schemas/distance'
          maxItems: 1
          minItems: 1
        paging:
          $ref: '#/components/schemas/paging'
        templateEligibility:
          $ref: '#/components/schemas/objectId'
      type: object
    services:
      type: object
    sizedImages:
      items:
        properties:
          size:
            enum:
            - small
            - medium
            - large
            maxItems: 1
            minItems: 1
            title: Size
            type: string
          url:
            format: url
            maxItems: 1
            minItems: 1
            title: Sized image url
            type: string
        type: object
      title: Sized images
      type: array
    style:
      type: object
    transaction:
      type: object
    userId:
      description: See [User Id](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#user-identification)
      type: string
  securitySchemes:
    appAuthentication:
      description: See [App Authentication](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#authentication)
      scheme: Basic
      type: http
info:
  description: 'Find more info here: [eCards API](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc)'
  license:
    name: Copyright Dappre B.V. 2019 - all rights reserved
    url: https://dappre.com
  title: eCards API
  version: 1.0.0
openapi: 3.0.0
paths:
  /openapi.json:
    get:
      responses:
        '200':
          $ref: '#/components/responses/openapiDotJson'
      tags:
      - openapi
  /openapi.yaml:
    get:
      responses:
        '200':
          $ref: '#/components/responses/openapiDotYaml'
      tags:
      - openapi
  /v1/users/{userId}:
    delete:
      description: See [Delete user](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#delete-user).
      operationId: Delete user
      responses:
        '202':
          $ref: '#/components/responses/httpResponseBody'
        '204':
          $ref: '#/components/responses/userDeleted'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Users
    parameters:
    - $ref: '#/components/parameters/userId'
  /v1/users/{userId}/actions:
    parameters:
    - $ref: '#/components/parameters/userId'
    post:
      description: See [Post actions](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#post-actions).
      operationId: Post actions
      requestBody:
        content:
          application/json:
            examples:
              example:
                $ref: '#/components/examples/actionList'
            schema:
              $ref: '#/components/schemas/actionList'
      responses:
        '202':
          $ref: '#/components/responses/httpResponseBody'
        '204':
          $ref: '#/components/responses/actionPosted'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Actions
  /v1/users/{userId}/api:
    get:
      description: See [GET Api](https://code.in.digital-me.nl/DEV/ecards/tree/master/apidoc#get-%2fapi).
      operationId: api
      responses:
        '200':
          $ref: '#/components/responses/api'
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - api
    parameters:
    - $ref: '#/components/parameters/userId'
  /v1/users/{userId}/api/schema:
    get:
      description: OpenAPI Document for eCards in json-schema draft 4
      operationId: Get
      responses:
        '200':
          $ref: '#/components/responses/apiSchema'
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - openapi
    parameters:
    - $ref: '#/components/parameters/userId'
  /v1/users/{userId}/dataExchange:
    get:
      description: tbd
      operationId: Get data
      responses:
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Data Exchange
    parameters:
    - $ref: '#/components/parameters/userId'
  /v1/users/{userId}/eCardTemplates:
    get:
      description: Get templates
      operationId: Get templates
      responses:
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Templates
    parameters:
    - $ref: '#/components/parameters/userId'
  /v1/users/{userId}/eCardTemplates/{templateId}/services/balanceAndTransactions:
    description: See https://digital-me.atlassian.net/wiki/spaces/DAP/pages/33352/SDD+4+-+eCards+Balance+and+Transactions
    parameters:
    - $ref: '#/components/parameters/userId'
    - $ref: '#/components/parameters/templateId'
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/balanceAndTransactionsGetFilterV1'
        required: true
      responses:
        '200':
          $ref: '#/components/responses/balanceAndTransactions'
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Balance and transactions
  /v1/users/{userId}/eCardTemplates/{templateId}/services/places:
    parameters:
    - $ref: '#/components/parameters/userId'
    - $ref: '#/components/parameters/templateId'
    post:
      description: Get places
      operationId: Get places
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/placesFilterV1'
        required: true
      responses:
        '200':
          $ref: '#/components/responses/places'
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Places
  /v1/users/{userId}/eCardTemplatesSelections:
    get:
      description: tbd
      operationId: Get templates selections
      responses:
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Templates Selections
    parameters:
    - $ref: '#/components/parameters/userId'
  /v1/users/{userId}/eCards:
    get:
      description: Get eCard
      operationId: Get eCard
      responses:
        '200':
          $ref: '#/components/responses/eCards'
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - eCards
    parameters:
    - $ref: '#/components/parameters/userId'
    post:
      operationId: addECard
      requestBody:
        content:
          application/json:
            schema:
              additionalProperties:
                type: object
              properties:
                empty:
                  type: boolean
              type: object
        required: true
      responses:
        default:
          content:
            application/json:
              schema:
                additionalProperties:
                  type: object
                properties:
                  empty:
                    type: boolean
                type: object
          description: default response
  /v1/users/{userId}/eCards/{oid}:
    delete:
      operationId: Delete eCard
      responses:
        '202':
          $ref: '#/components/responses/httpResponseBody'
        '204':
          description: 204 Response
        default:
          $ref: '#/components/responses/default'
      tags:
      - eCards
    parameters:
    - $ref: '#/components/parameters/userId'
    - $ref: '#/components/parameters/oid'
    - $ref: '#/components/parameters/eCardsMetaData'
    - $ref: '#/components/parameters/userAgent'
    put:
      operationId: Update eCard
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/eCardUpdate'
        required: true
      responses:
        '200':
          description: 200 Response
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - eCards
  /v1/users/{userId}/services/offers:
    get:
      description: tbd
      operationId: Get offers
      responses:
        '202':
          $ref: '#/components/responses/httpResponseBody'
        default:
          $ref: '#/components/responses/default'
      tags:
      - Offers
    parameters:
    - $ref: '#/components/parameters/userId'
security:
- appAuthentication: []
servers:
- description: Development 2 server
  url: https://dev2-card.testonly.digital-me.nl/ecards
- description: Acceptance server
  url: https://card.dolden.net/ecards
- description: Production server
  url: https://card.digital-me.nl/ecards
